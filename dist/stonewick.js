!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).StoneWick={})}(this,function(e){"use strict";var t=Object.defineProperty,i=(e,i,s)=>((e,i,s)=>i in e?t(e,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[i]=s)(e,"symbol"!=typeof i?i+"":i,s);const s={debounce(e,t=150){let i;return(...s)=>{clearTimeout(i),i=setTimeout(()=>e.apply(this,s),t)}},throttle(e,t=150){let i;return(...s)=>{i||(e.apply(this,s),i=!0,setTimeout(()=>i=!1,t))}},getCSSVar(e,t=document.documentElement){const i=e.startsWith("--")?e:`--${e}`;return getComputedStyle(t).getPropertyValue(i).trim()},setCSSVar(e,t,i=document.documentElement){const s=e.startsWith("--")?e:`--${e}`;i.style.setProperty(s,t)},parseDataAttrs(e,t="sw"){const i={},s=new RegExp(`^data-${t}-(.+)$`);for(const o of e.attributes){const e=o.name.match(s);if(e){const t=e[1].replace(/-([a-z])/g,(e,t)=>t.toUpperCase());let s=o.value;try{s=JSON.parse(s)}catch{"true"===s?s=!0:"false"===s?s=!1:isNaN(Number(s))||(s=Number(s))}i[t]=s}}return i},createElement(e){const t=document.createElement("template");return t.innerHTML=e.trim(),t.content.firstChild},waitForElement:(e,t=5e3)=>new Promise((i,s)=>{const o=document.querySelector(e);if(o)return i(o);const n=new MutationObserver((t,s)=>{const o=document.querySelector(e);o&&(s.disconnect(),i(o))});n.observe(document.body,{childList:!0,subtree:!0}),setTimeout(()=>{n.disconnect(),s(new Error(`Element ${e} not found within ${t}ms`))},t)}),animate:(e,t,i={})=>e.animate(t,{duration:300,easing:"ease-out",fill:"forwards",...i}),isInViewport(e,t=0){const i=e.getBoundingClientRect(),s=window.innerHeight||document.documentElement.clientHeight,o=window.innerWidth||document.documentElement.clientWidth,n=i.top<=s&&i.top+i.height>=0,l=i.left<=o&&i.left+i.width>=0;if(0===t)return n&&l;return(Math.min(i.bottom,s)-Math.max(i.top,0))*(Math.min(i.right,o)-Math.max(i.left,0))/(i.height*i.width)>=t},EventEmitter:{_events:{},on(e,t){return this._events[e]||(this._events[e]=[]),this._events[e].push(t),this},off(e,t){return this._events[e]?(t?this._events[e]=this._events[e].filter(e=>e!==t):delete this._events[e],this):this},emit(e,...t){return this._events[e]?(this._events[e].forEach(e=>e.apply(this,t)),this):this}}},o=Object.freeze(Object.defineProperty({__proto__:null,default:s},Symbol.toStringTag,{value:"Module"})),n=class e{constructor(t,i={}){this.element=t,this.options={...e.defaults,...s.parseDataAttrs(t,"sw"),...i},this.handle=null,this.beforeEl=null,this.afterEl=null,this.isDragging=!1,this.position=this.options.startPosition,this._onMouseDown=this._onMouseDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this.init()}init(){this.handle=this.element.querySelector(".comparison-handle"),this.beforeEl=this.element.querySelector(".comparison-before"),this.afterEl=this.element.querySelector(".comparison-after"),this.handle&&this.beforeEl&&(this.setPosition(this.position),this.handle.addEventListener("mousedown",this._onMouseDown),this.handle.addEventListener("touchstart",this._onTouchStart,{passive:!1}),this.handle.addEventListener("keydown",this._onKeyDown),this.handle.setAttribute("tabindex","0"),this.handle.setAttribute("role","slider"),this.handle.setAttribute("aria-valuenow",this.position),this.handle.setAttribute("aria-valuemin","0"),this.handle.setAttribute("aria-valuemax","100"),this.handle.setAttribute("aria-label","Comparison slider"),this.element.classList.add("is-initialized"))}setPosition(e){e=Math.max(0,Math.min(100,e)),this.position=e,this.afterEl.style.clipPath=`inset(0 0 0 ${e}%)`,this.handle.style.left=`${e}%`,this.handle.setAttribute("aria-valuenow",Math.round(e)),this.handle.dataset.position=e,this.element.dispatchEvent(new CustomEvent("sw:slider:change",{detail:{position:e}}))}_getPositionFromEvent(e){const t=this.element.getBoundingClientRect();return((e.clientX||e.touches&&e.touches[0].clientX)-t.left)/t.width*100}_onMouseDown(e){e.preventDefault(),this.isDragging=!0,this.element.classList.add("is-dragging"),document.addEventListener("mousemove",this._onMouseMove),document.addEventListener("mouseup",this._onMouseUp)}_onMouseMove(e){this.isDragging&&this.setPosition(this._getPositionFromEvent(e))}_onMouseUp(){this.isDragging=!1,this.element.classList.remove("is-dragging"),document.removeEventListener("mousemove",this._onMouseMove),document.removeEventListener("mouseup",this._onMouseUp)}_onTouchStart(e){e.preventDefault(),this.isDragging=!0,this.element.classList.add("is-dragging"),document.addEventListener("touchmove",this._onTouchMove,{passive:!1}),document.addEventListener("touchend",this._onTouchEnd)}_onTouchMove(e){this.isDragging&&(e.preventDefault(),this.setPosition(this._getPositionFromEvent(e)))}_onTouchEnd(){this.isDragging=!1,this.element.classList.remove("is-dragging"),document.removeEventListener("touchmove",this._onTouchMove),document.removeEventListener("touchend",this._onTouchEnd)}_onKeyDown(e){const t=e.shiftKey?10:1;switch(e.key){case"ArrowLeft":case"ArrowDown":e.preventDefault(),this.setPosition(this.position-t);break;case"ArrowRight":case"ArrowUp":e.preventDefault(),this.setPosition(this.position+t);break;case"Home":e.preventDefault(),this.setPosition(0);break;case"End":e.preventDefault(),this.setPosition(100)}}destroy(){this.handle.removeEventListener("mousedown",this._onMouseDown),this.handle.removeEventListener("touchstart",this._onTouchStart),this.handle.removeEventListener("keydown",this._onKeyDown),document.removeEventListener("mousemove",this._onMouseMove),document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("touchmove",this._onTouchMove),document.removeEventListener("touchend",this._onTouchEnd),this.element.classList.remove("is-initialized","is-dragging")}static initAll(t=".comparison-slider",i=document){return[...i.querySelectorAll(t)].map(t=>new e(t))}};i(n,"defaults",{startPosition:50,showLabels:!0,smoothTransition:!0});let l=n;const a=Object.freeze(Object.defineProperty({__proto__:null,ComparisonSlider:l},Symbol.toStringTag,{value:"Module"})),r=class e{constructor(t,i={}){this.element=t,this.options={...e.defaults,...s.parseDataAttrs(t,"sw"),...i},this.video=null,this.overlay=null,this.playBtn=null,this.isPlaying=!1,this._onPlayClick=this._onPlayClick.bind(this),this._onVideoEnd=this._onVideoEnd.bind(this),this._onVideoPlay=this._onVideoPlay.bind(this),this._onVideoPause=this._onVideoPause.bind(this),this.init()}init(){if(this.video=this.element.querySelector("video"),this.overlay=this.element.querySelector(".video-theater-overlay"),this.playBtn=this.element.querySelector(".video-theater-play-btn"),!this.video){return this.element.querySelector("iframe")?void this.element.classList.add("is-initialized","is-iframe"):void 0}this.options.muted&&(this.video.muted=!0),this.options.loop&&(this.video.loop=!0),this.video.preload=this.options.preload,this.playBtn&&this.playBtn.addEventListener("click",this._onPlayClick),this.overlay&&this.overlay.addEventListener("click",this._onPlayClick),this.video.addEventListener("ended",this._onVideoEnd),this.video.addEventListener("play",this._onVideoPlay),this.video.addEventListener("pause",this._onVideoPause),this.options.autoplay&&this.play(),this.element.classList.add("is-initialized")}play(){if(!this.video)return;const e=this.video.play();void 0!==e&&e.catch(e=>{})}pause(){this.video&&this.video.pause()}toggle(){this.isPlaying?this.pause():this.play()}_onPlayClick(e){e.preventDefault(),e.stopPropagation(),this.play()}_onVideoPlay(){this.isPlaying=!0,this.element.classList.add("is-playing"),this.overlay&&this.overlay.classList.add("is-hidden"),this.element.dispatchEvent(new CustomEvent("sw:video:play"))}_onVideoPause(){this.isPlaying=!1,this.element.classList.remove("is-playing"),this.element.dispatchEvent(new CustomEvent("sw:video:pause"))}_onVideoEnd(){this.isPlaying=!1,this.element.classList.remove("is-playing"),this.overlay&&!this.options.loop&&this.overlay.classList.remove("is-hidden"),this.element.dispatchEvent(new CustomEvent("sw:video:end"))}destroy(){this.playBtn&&this.playBtn.removeEventListener("click",this._onPlayClick),this.overlay&&this.overlay.removeEventListener("click",this._onPlayClick),this.video&&(this.video.removeEventListener("ended",this._onVideoEnd),this.video.removeEventListener("play",this._onVideoPlay),this.video.removeEventListener("pause",this._onVideoPause)),this.element.classList.remove("is-initialized","is-playing")}static initAll(t=".video-theater",i=document){return[...i.querySelectorAll(t)].map(t=>new e(t))}};i(r,"defaults",{autoplay:!1,muted:!1,loop:!1,preload:"metadata"});let c=r;const h=Object.freeze(Object.defineProperty({__proto__:null,VideoTheater:c},Symbol.toStringTag,{value:"Module"})),d=class e{constructor(t,i={}){this.element="string"==typeof t?document.querySelector(t):t,this.element&&(this.options={...e.defaults,...s.parseDataAttrs(this.element,"sw"),...i},this.overlay=null,this.closeBtn=null,this.previousFocus=null,this.isOpen=!1,this._onOverlayClick=this._onOverlayClick.bind(this),this._onCloseClick=this._onCloseClick.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._trapFocus=this._trapFocus.bind(this),this.init())}init(){if(this.overlay=this.element.querySelector(".modal-overlay"),this.closeBtn=this.element.querySelectorAll('.modal-close, [data-sw-dismiss="modal"]'),this.content=this.element.querySelector(".modal-content-custom"),this.overlay&&this.options.closeOnOverlay&&this.overlay.addEventListener("click",this._onOverlayClick),this.closeBtn.forEach(e=>{e.addEventListener("click",this._onCloseClick)}),this.element.setAttribute("role","dialog"),this.element.setAttribute("aria-modal","true"),!this.element.hasAttribute("aria-labelledby")){const e=this.element.querySelector(".modal-title-custom, h2, h3");if(e){const t=e.id||`modal-title-${Date.now()}`;e.id=t,this.element.setAttribute("aria-labelledby",t)}}this.element.classList.add("modal-initialized")}open(){this.isOpen||(this.previousFocus=document.activeElement,this.isOpen=!0,e.activeModals.push(this),this.element.classList.add("is-active"),document.body.classList.add("modal-open"),document.body.style.overflow="hidden",this.options.closeOnEscape&&document.addEventListener("keydown",this._onKeyDown),this.options.trapFocus&&this.element.addEventListener("keydown",this._trapFocus),requestAnimationFrame(()=>{const e=this._getFocusableElements()[0];e&&e.focus()}),this.element.dispatchEvent(new CustomEvent("sw:modal:open")))}close(){if(!this.isOpen)return;this.isOpen=!1;const t=e.activeModals.indexOf(this);t>-1&&e.activeModals.splice(t,1),this.element.classList.remove("is-active"),0===e.activeModals.length&&(document.body.classList.remove("modal-open"),document.body.style.overflow=""),document.removeEventListener("keydown",this._onKeyDown),this.element.removeEventListener("keydown",this._trapFocus),this.options.restoreFocus&&this.previousFocus&&this.previousFocus.focus(),this.element.dispatchEvent(new CustomEvent("sw:modal:close"))}toggle(){this.isOpen?this.close():this.open()}_onOverlayClick(e){e.target===this.overlay&&this.close()}_onCloseClick(e){e.preventDefault(),this.close()}_onKeyDown(t){e.activeModals[e.activeModals.length-1]===this&&"Escape"===t.key&&(t.preventDefault(),this.close())}_getFocusableElements(){const e=["button:not([disabled])","a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[tabindex]:not([tabindex="-1"])'].join(", ");return[...this.element.querySelectorAll(e)].filter(e=>null!==e.offsetParent)}_trapFocus(e){if("Tab"!==e.key)return;const t=this._getFocusableElements();if(0===t.length)return;const i=t[0],s=t[t.length-1];e.shiftKey?document.activeElement===i&&(e.preventDefault(),s.focus()):document.activeElement===s&&(e.preventDefault(),i.focus())}destroy(){this.close(),this.overlay&&this.overlay.removeEventListener("click",this._onOverlayClick),this.closeBtn.forEach(e=>{e.removeEventListener("click",this._onCloseClick)}),this.element.classList.remove("modal-initialized")}static open(t){const i=document.querySelector(t);if(!i)return null;let s=e.getInstance(i);return s||(s=new e(i)),s.open(),s}static close(t){const i=document.querySelector(t);if(!i)return;const s=e.getInstance(i);s&&s.close()}static closeAll(){[...e.activeModals].forEach(e=>e.close())}static getInstance(t){return e.activeModals.find(e=>e.element===t)}static initAll(t=".modal-custom",i=document){return[...i.querySelectorAll(t)].map(t=>new e(t))}};i(d,"defaults",{closeOnOverlay:!0,closeOnEscape:!0,trapFocus:!0,restoreFocus:!0}),i(d,"activeModals",[]);let u=d;document.addEventListener("click",e=>{const t=e.target.closest("[data-sw-modal]");if(t){e.preventDefault();const i=t.dataset.swModal;u.open(i)}});const m=Object.freeze(Object.defineProperty({__proto__:null,Modal:u},Symbol.toStringTag,{value:"Module"})),v=class e{constructor(t,i={}){this.element=t,this.options={...e.defaults,...s.parseDataAttrs(t,"sw"),...i},this.slides=[],this.thumbnails=[],this.currentIndex=0,this.autoplayTimer=null,this.isPlaying=!1,this._onPrevClick=this._onPrevClick.bind(this),this._onNextClick=this._onNextClick.bind(this),this._onThumbnailClick=this._onThumbnailClick.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onMouseLeave=this._onMouseLeave.bind(this),this.init()}init(){this.slides=[...this.element.querySelectorAll(".carousel-item, .slide-item")],this.thumbnails=[...this.element.querySelectorAll(".carousel-thumb, .slide-thumb")],this.prevBtn=this.element.querySelector(".carousel-control-prev, .slide-prev"),this.nextBtn=this.element.querySelector(".carousel-control-next, .slide-next"),this.indicators=[...this.element.querySelectorAll(".carousel-indicator, [data-bs-slide-to]")],0!==this.slides.length&&(this.prevBtn&&this.prevBtn.addEventListener("click",this._onPrevClick),this.nextBtn&&this.nextBtn.addEventListener("click",this._onNextClick),this.thumbnails.forEach((e,t)=>{e.addEventListener("click",()=>this._onThumbnailClick(t))}),this.indicators.forEach((e,t)=>{e.addEventListener("click",()=>this.goTo(t))}),this.options.keyboard&&(this.element.setAttribute("tabindex","0"),this.element.addEventListener("keydown",this._onKeyDown)),this.options.pauseOnHover&&(this.element.addEventListener("mouseenter",this._onMouseEnter),this.element.addEventListener("mouseleave",this._onMouseLeave)),this.goTo(0),this.options.autoplay&&this.play(),this.element.classList.add("is-initialized"))}goTo(e){e<0?e=this.options.loop?this.slides.length-1:0:e>=this.slides.length&&(e=this.options.loop?0:this.slides.length-1);const t=this.currentIndex;this.currentIndex=e,this.slides.forEach((t,i)=>{t.classList.toggle("active",i===e)}),this.thumbnails.forEach((t,i)=>{t.classList.toggle("is-active",i===e),t.setAttribute("aria-selected",i===e)}),this.indicators.forEach((t,i)=>{t.classList.toggle("active",i===e)}),this.element.dispatchEvent(new CustomEvent("sw:slide:change",{detail:{currentIndex:e,previousIndex:t,slide:this.slides[e]}}))}prev(){this.goTo(this.currentIndex-1)}next(){this.goTo(this.currentIndex+1)}play(){this.isPlaying||(this.isPlaying=!0,this.element.classList.add("is-playing"),this.autoplayTimer=setInterval(()=>{this.next()},this.options.autoplayInterval))}pause(){this.isPlaying&&(this.isPlaying=!1,this.element.classList.remove("is-playing"),this.autoplayTimer&&(clearInterval(this.autoplayTimer),this.autoplayTimer=null))}toggle(){this.isPlaying?this.pause():this.play()}_onPrevClick(e){e.preventDefault(),this.prev()}_onNextClick(e){e.preventDefault(),this.next()}_onThumbnailClick(e){this.goTo(e)}_onKeyDown(e){switch(e.key){case"ArrowLeft":e.preventDefault(),this.prev();break;case"ArrowRight":e.preventDefault(),this.next();break;case"Home":e.preventDefault(),this.goTo(0);break;case"End":e.preventDefault(),this.goTo(this.slides.length-1);break;case" ":e.preventDefault(),this.toggle()}}_onMouseEnter(){this.isPlaying&&(this._wasPlaying=!0,this.pause())}_onMouseLeave(){this._wasPlaying&&(this._wasPlaying=!1,this.play())}destroy(){this.pause(),this.prevBtn&&this.prevBtn.removeEventListener("click",this._onPrevClick),this.nextBtn&&this.nextBtn.removeEventListener("click",this._onNextClick),this.element.removeEventListener("keydown",this._onKeyDown),this.element.removeEventListener("mouseenter",this._onMouseEnter),this.element.removeEventListener("mouseleave",this._onMouseLeave),this.element.classList.remove("is-initialized","is-playing")}static initAll(t=".carousel-thumbnails, .slider",i=document){return[...i.querySelectorAll(t)].map(t=>new e(t))}};i(v,"defaults",{autoplay:!1,autoplayInterval:5e3,pauseOnHover:!0,loop:!0,keyboard:!0,indicators:!0,thumbnails:!0});let p=v;const y=Object.freeze(Object.defineProperty({__proto__:null,Slider:p},Symbol.toStringTag,{value:"Module"})),f=class e{constructor(t,i={}){this.element=t,this.options={...e.defaults,...s.parseDataAttrs(t,"sw"),...i},this.items=[],this.expandAllBtn=null,this.collapseAllBtn=null,this._onItemClick=this._onItemClick.bind(this),this._onHashChange=this._onHashChange.bind(this),this._onExpandAllClick=this._onExpandAllClick.bind(this),this._onCollapseAllClick=this._onCollapseAllClick.bind(this),this.init()}init(){this.items=[...this.element.querySelectorAll(".accordion-item")],this.expandAllBtn=this.element.querySelector("[data-sw-expand-all]"),this.collapseAllBtn=this.element.querySelector("[data-sw-collapse-all]"),0!==this.items.length&&(this.items.forEach(e=>{const t=e.querySelector(".accordion-button");t&&t.addEventListener("click",()=>this._onItemClick(e))}),this.expandAllBtn&&this.expandAllBtn.addEventListener("click",this._onExpandAllClick),this.collapseAllBtn&&this.collapseAllBtn.addEventListener("click",this._onCollapseAllClick),this.options.hashLinks&&(window.addEventListener("hashchange",this._onHashChange),this._onHashChange()),this.options.allowMultiple&&(this.element.classList.add("accordion-flush"),this.items.forEach(e=>{const t=e.querySelector(".accordion-collapse");t&&t.removeAttribute("data-bs-parent")})),this.element.classList.add("is-initialized"))}_onItemClick(e){const t=e.querySelector(".accordion-collapse");if(t){if(this.options.hashLinks&&t.id){!t.classList.contains("show")&&history.replaceState(null,null,`#${t.id}`)}this.options.scrollToOpen&&setTimeout(()=>{if(t.classList.contains("show")){const t=e.getBoundingClientRect().top+window.scrollY-this.options.scrollOffset;window.scrollTo({top:t,behavior:"smooth"})}},350),this.element.dispatchEvent(new CustomEvent("sw:accordion:toggle",{detail:{item:e,collapse:t}}))}}_onHashChange(){var e;const t=window.location.hash.slice(1);if(!t)return;const i=this.element.querySelector(`#${t}`);if(i&&i.classList.contains("accordion-collapse")){if(window.bootstrap&&window.bootstrap.Collapse){window.bootstrap.Collapse.getOrCreateInstance(i).show()}else{i.classList.add("show");const t=null==(e=i.previousElementSibling)?void 0:e.querySelector(".accordion-button");t&&t.classList.remove("collapsed")}setTimeout(()=>{const e=i.closest(".accordion-item");if(e){const t=e.getBoundingClientRect().top+window.scrollY-this.options.scrollOffset;window.scrollTo({top:t,behavior:"smooth"})}},100)}}_onExpandAllClick(e){e.preventDefault(),this.expandAll()}_onCollapseAllClick(e){e.preventDefault(),this.collapseAll()}expandAll(){this.items.forEach(e=>{const t=e.querySelector(".accordion-collapse");if(t&&!t.classList.contains("show"))if(window.bootstrap&&window.bootstrap.Collapse)window.bootstrap.Collapse.getOrCreateInstance(t).show();else{t.classList.add("show");const i=e.querySelector(".accordion-button");i&&i.classList.remove("collapsed")}}),this.element.dispatchEvent(new CustomEvent("sw:accordion:expandAll"))}collapseAll(){this.items.forEach(e=>{const t=e.querySelector(".accordion-collapse");if(t&&t.classList.contains("show"))if(window.bootstrap&&window.bootstrap.Collapse)window.bootstrap.Collapse.getOrCreateInstance(t).hide();else{t.classList.remove("show");const i=e.querySelector(".accordion-button");i&&i.classList.add("collapsed")}}),this.element.dispatchEvent(new CustomEvent("sw:accordion:collapseAll"))}toggle(e){const t=this.items[e];if(!t)return;const i=t.querySelector(".accordion-collapse");if(i)if(window.bootstrap&&window.bootstrap.Collapse)window.bootstrap.Collapse.getOrCreateInstance(i).toggle();else{i.classList.toggle("show");const e=t.querySelector(".accordion-button");e&&e.classList.toggle("collapsed")}}destroy(){window.removeEventListener("hashchange",this._onHashChange),this.expandAllBtn&&this.expandAllBtn.removeEventListener("click",this._onExpandAllClick),this.collapseAllBtn&&this.collapseAllBtn.removeEventListener("click",this._onCollapseAllClick),this.element.classList.remove("is-initialized")}static initAll(t=".accordion",i=document){return[...i.querySelectorAll(t)].map(t=>new e(t))}};i(f,"defaults",{allowMultiple:!1,expandAll:!1,hashLinks:!0,scrollToOpen:!1,scrollOffset:80});let w=f;const b=Object.freeze(Object.defineProperty({__proto__:null,Accordion:w},Symbol.toStringTag,{value:"Module"}));class g{constructor(e){this.element=e,this.isInitialized=!1,this.init()}init(){this.isInitialized||(this.initNestedDropdowns(),this.initViewportDetection(),this.isInitialized=!0)}initNestedDropdowns(){this.element.querySelectorAll(".dropdown-submenu").forEach(e=>{const t=e.querySelector(":scope > .dropdown-item");t&&t.addEventListener("click",t=>{if(window.innerWidth<992){t.preventDefault(),t.stopPropagation();if(e.querySelector(":scope > .dropdown-menu")){e.classList.toggle("show");e.parentElement.querySelectorAll(":scope > .dropdown-submenu.show").forEach(t=>{t!==e&&t.classList.remove("show")})}}})})}initViewportDetection(){this.element.querySelectorAll(".dropdown-submenu").forEach(e=>{e.addEventListener("mouseenter",function(){const e=this.querySelector(":scope > .dropdown-menu");if(!e)return;const t=e.style.display;e.style.display="block",e.style.visibility="hidden";const i=e.getBoundingClientRect(),s=window.innerWidth;i.right>s-10?(this.classList.add("submenu-left"),this.classList.remove("submenu-right")):i.left<10&&(this.classList.add("submenu-right"),this.classList.remove("submenu-left")),e.style.display=t,e.style.visibility=""})})}destroy(){this.isInitialized=!1}static initAll(e=".navbar",t=document){const i=t.querySelectorAll(e);return Array.from(i).map(e=>new g(e))}}"undefined"!=typeof window&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{g.initAll()}):g.initAll());class E{constructor(e){this.element=e,this.container=e.querySelector(".offcanvas-drill-container"),this.container&&this.init()}init(){this.initForwardNavigation(),this.initBackNavigation(),this.initReset()}initForwardNavigation(){this.element.querySelectorAll("[data-panel]").forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const i=e.getAttribute("data-panel"),s=this.container.querySelector(`#${i}`),o=this.container.querySelector(".offcanvas-drill-panel.active");s&&o&&(o.classList.remove("active"),o.classList.add("parent"),s.classList.add("active"))})})}initBackNavigation(){this.element.querySelectorAll("[data-back]").forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const i=e.getAttribute("data-back"),s=this.container.querySelector(`#${i}`),o=this.container.querySelector(".offcanvas-drill-panel.active");s&&o&&(o.classList.remove("active"),s.classList.remove("parent"),s.classList.add("active"))})})}initReset(){this.element.addEventListener("hidden.bs.offcanvas",()=>{const e=this.container.querySelectorAll(".offcanvas-drill-panel");e.forEach(e=>{e.classList.remove("active","parent")});const t=e[0];t&&t.classList.add("active")})}destroy(){}static initAll(e=".offcanvas-navbar",t=document){const i=t.querySelectorAll(e),s=[];return i.forEach(e=>{const t=new E(e);s.push(t)}),s}}"undefined"!=typeof window&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{E.initAll()}):E.initAll());class _{constructor(e,t={}){if(this.form="string"==typeof e?document.querySelector(e):e,!this.form)throw new Error("Form element not found");this.options={validateOnInput:!0,validateOnBlur:!0,showFeedback:!0,...t},this.init()}init(){this.form.addEventListener("submit",this.handleSubmit.bind(this)),this.options.validateOnInput&&this.form.querySelectorAll(".form-control, .form-select").forEach(e=>{e.addEventListener("input",()=>this.validateField(e))}),this.options.validateOnBlur&&this.form.querySelectorAll(".form-control, .form-select").forEach(e=>{e.addEventListener("blur",()=>this.validateField(e))}),this.setupCustomValidation()}handleSubmit(e){if(e.preventDefault(),e.stopPropagation(),!this.form.checkValidity()){this.form.classList.add("was-validated");const e=this.form.querySelector(".form-control:invalid, .form-select:invalid");return e&&e.focus(),!1}return this.form.classList.remove("was-validated"),this.form.dispatchEvent(new CustomEvent("form:valid",{detail:{formData:new FormData(this.form)}})),!0}validateField(e){const t=e.checkValidity();return t?(e.classList.remove("is-invalid"),e.classList.add("is-valid"),this.hideFeedback(e,"invalid"),this.showFeedback(e,"valid")):(e.classList.remove("is-valid"),e.classList.add("is-invalid"),this.hideFeedback(e,"valid"),this.showFeedback(e,"invalid")),t}showFeedback(e,t){if(!this.options.showFeedback)return;const i=e.parentElement.querySelector(`.${t}-feedback`);i&&(i.style.display="block")}hideFeedback(e,t){const i=e.parentElement.querySelector(`.${t}-feedback`);i&&(i.style.display="none")}setupCustomValidation(){this.form.querySelectorAll("[data-password-match]").forEach(e=>{const t=e.dataset.passwordMatch,i=this.form.querySelector(`#${t}`);if(i){const t=()=>{e.value!==i.value?e.setCustomValidity("Passwords do not match"):e.setCustomValidity(""),this.validateField(e)};e.addEventListener("input",t),i.addEventListener("input",t)}});this.form.querySelectorAll('[type="tel"]').forEach(e=>{e.addEventListener("input",e=>{let t=e.target.value.replace(/\D/g,"");t.length>10&&(t=t.slice(0,10)),t.length>=6?e.target.value=`(${t.slice(0,3)}) ${t.slice(3,6)}-${t.slice(6)}`:t.length>=3?e.target.value=`(${t.slice(0,3)}) ${t.slice(3)}`:e.target.value=t})});this.form.querySelectorAll('[type="email"]').forEach(e=>{e.addEventListener("blur",()=>{e.value&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.value)?e.setCustomValidity("Please enter a valid email address"):e.setCustomValidity(""),this.validateField(e)})})}reset(){this.form.reset(),this.form.classList.remove("was-validated"),this.form.querySelectorAll(".form-control, .form-select").forEach(e=>{e.classList.remove("is-valid","is-invalid")}),this.form.querySelectorAll(".valid-feedback, .invalid-feedback").forEach(e=>{e.style.display="none"})}static initAll(e={}){const t=document.querySelectorAll("form[data-validate]"),i=[];return t.forEach(t=>{const s=new _(t,e);i.push(s)}),i}static init(e,t={}){return new _(e,t)}isValid(){return this.form.checkValidity()}getData(){const e=new FormData(this.form),t={};for(let[i,s]of e.entries())t[i]?(Array.isArray(t[i])||(t[i]=[t[i]]),t[i].push(s)):t[i]=s;return t}setData(e){Object.entries(e).forEach(([e,t])=>{const i=this.form.querySelector(`[name="${e}"]`);i&&("checkbox"===i.type||"radio"===i.type?i.checked=t:i.value=t)})}disable(){this.form.querySelectorAll("input, select, textarea, button").forEach(e=>{e.disabled=!0})}enable(){this.form.querySelectorAll("input, select, textarea, button").forEach(e=>{e.disabled=!1})}}"undefined"!=typeof document&&document.addEventListener("DOMContentLoaded",()=>{_.initAll()});const L=Object.freeze(Object.defineProperty({__proto__:null,Forms:_},Symbol.toStringTag,{value:"Module"})),S="1.0.0";function k(e={}){const t=e.scope?document.querySelector(e.scope):document,i={},{ComparisonSlider:s}=require("./modules/comparison-slider.js"),{VideoTheater:o}=require("./modules/video-theater.js"),{Modal:n}=require("./modules/modals.js"),{Slider:l}=require("./modules/slider.js"),{Accordion:a}=require("./modules/accordion.js"),{Navbar:r}=require("./modules/navbar.js"),{Offcanvas:c}=require("./modules/offcanvas.js"),{Forms:h}=require("./modules/forms.js");return i.comparisonSliders=s.initAll(".comparison-slider",t),i.videoTheaters=o.initAll(".video-theater",t),i.modals=n.initAll(".modal-custom",t),i.sliders=l.initAll(".carousel-thumbnails",t),i.accordions=a.initAll(".accordion",t),i.navbars=r.initAll(".navbar",t),i.offcanvas=c.initAll(".offcanvas-navbar",t),i.forms=h.initAll("form[data-validate]",t),i}"undefined"!=typeof window&&(window.StoneWick={VERSION:S,initAll:k,ComparisonSlider:null,VideoTheater:null,Modal:null,Slider:null,Accordion:null,utils:null},Promise.resolve().then(()=>a).then(e=>window.StoneWick.ComparisonSlider=e.ComparisonSlider),Promise.resolve().then(()=>h).then(e=>window.StoneWick.VideoTheater=e.VideoTheater),Promise.resolve().then(()=>m).then(e=>window.StoneWick.Modal=e.Modal),Promise.resolve().then(()=>y).then(e=>window.StoneWick.Slider=e.Slider),Promise.resolve().then(()=>b).then(e=>window.StoneWick.Accordion=e.Accordion),Promise.resolve().then(()=>L).then(e=>window.StoneWick.Forms=e.Forms),Promise.resolve().then(()=>o).then(e=>window.StoneWick.utils=e.default)),e.Accordion=w,e.ComparisonSlider=l,e.Forms=_,e.Modal=u,e.Navbar=g,e.Offcanvas=E,e.Slider=p,e.VERSION=S,e.VideoTheater=c,e.initAll=k,e.utils=s,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=stonewick.js.map
