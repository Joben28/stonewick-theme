/* ===========================================
   UTILITY CLASSES
   Custom utility classes EXTENDING BS5
   
   ⚠️  RULES:
   - Single-purpose utility classes only
   - No component styles
   - No BS5 duplicates (see notes below)
   - Extensions must follow BS5 patterns
   
   REMOVED (already in BS5):
   - .object-cover → use .object-fit-cover
   - .object-contain → use .object-fit-contain  
   - .gap-6/7/8 → violates BS5's 0-5 scale
   - .icon-bg-circle → use .rounded-circle
   - .overflow-x-auto → already in BS5
   - .overflow-y-auto → already in BS5
   
   MOVED TO TYPOGRAPHY:
   - .icon-bg-* → _typography.css as .bg-soft-*
   =========================================== */

/* -------------------------------------------
   SHADOW UTILITIES
   Colored shadows not available in BS5
   ------------------------------------------- */
.shadow-primary {
  box-shadow: 0 4px 14px rgba(var(--bs-primary-rgb), 0.25);
}

.shadow-primary-lg {
  box-shadow: 0 8px 25px rgba(var(--bs-primary-rgb), 0.3);
}

.shadow-secondary {
  box-shadow: 0 4px 14px rgba(var(--bs-secondary-rgb), 0.25);
}

/* -------------------------------------------
   WIDTH UTILITIES
   Content-based widths not in BS5
   ------------------------------------------- */
.w-fit { 
  width: fit-content !important; 
}

.max-w-readable { 
  max-width: 65ch !important; 
}

.max-w-content { 
  max-width: 720px !important; 
}

.max-w-prose {
  max-width: 75ch !important;
}

/* -------------------------------------------
   ASPECT RATIO UTILITIES
   BS5 has .ratio but these are simpler/different
   ------------------------------------------- */
.aspect-square {
  aspect-ratio: 1 / 1;
}

.aspect-video {
  aspect-ratio: 16 / 9;
}

.aspect-4-3 {
  aspect-ratio: 4 / 3;
}

.aspect-3-2 {
  aspect-ratio: 3 / 2;
}

/* -------------------------------------------
   TRANSITION UTILITIES
   Standardized transition speeds
   ------------------------------------------- */
.transition-none {
  transition: none !important;
}

.transition-fast {
  transition: all 0.15s ease !important;
}

.transition-base {
  transition: all 0.3s ease !important;
}

.transition-slow {
  transition: all 0.5s ease !important;
}

/* Property-specific transitions */
.transition-transform {
  transition: transform 0.3s ease !important;
}

.transition-opacity {
  transition: opacity 0.3s ease !important;
}

.transition-shadow {
  transition: box-shadow 0.3s ease !important;
}

/* -------------------------------------------
   HOVER UTILITIES
   Interactive transform effects
   ------------------------------------------- */
.hover-lift {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.hover-lift:hover {
  transform: translateY(-4px);
}

.hover-scale {
  transition: transform 0.3s ease;
}

.hover-scale:hover {
  transform: scale(1.02);
}

.hover-shadow {
  transition: box-shadow 0.3s ease;
}

.hover-shadow:hover {
  box-shadow: var(--bs-shadow-md);
}

/* Combined effects */
.hover-lift-shadow {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.hover-lift-shadow:hover {
  transform: translateY(-4px);
  box-shadow: var(--bs-shadow-lg);
}

/* -------------------------------------------
   Z-INDEX UTILITIES
   Semantic z-index layers
   ------------------------------------------- */
.z-0 { z-index: 0; }
.z-10 { z-index: 10; }
.z-20 { z-index: 20; }
.z-30 { z-index: 30; }
.z-40 { z-index: 40; }
.z-50 { z-index: 50; }

/* Semantic aliases */
.z-below { z-index: -1; }
.z-base { z-index: 0; }
.z-dropdown { z-index: 1000; }
.z-sticky { z-index: 1020; }
.z-fixed { z-index: 1030; }
.z-modal-backdrop { z-index: 1040; }
.z-modal { z-index: 1050; }
.z-popover { z-index: 1060; }
.z-tooltip { z-index: 1070; }

/* -------------------------------------------
   BACKDROP UTILITIES
   Glass/blur effects
   ------------------------------------------- */
.backdrop-blur {
  backdrop-filter: blur(var(--bs-glass-blur));
  -webkit-backdrop-filter: blur(var(--bs-glass-blur));
}

.backdrop-blur-sm {
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
}

.backdrop-blur-lg {
  backdrop-filter: blur(var(--bs-glass-blur-strong));
  -webkit-backdrop-filter: blur(var(--bs-glass-blur-strong));
}

.backdrop-blur-none {
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

/* -------------------------------------------
   BORDER UTILITIES
   Custom border styles
   ------------------------------------------- */
.border-glass {
  border: 1px solid var(--bs-glass-border);
}

.border-subtle {
  border: 1px solid rgba(0, 0, 0, 0.08);
}

.border-gradient {
  border: 2px solid transparent;
  background: 
    linear-gradient(white, white) padding-box,
    linear-gradient(135deg, var(--bs-primary), var(--bs-secondary)) border-box;
}

/* -------------------------------------------
   CURSOR UTILITIES
   Pointer states (not in BS5)
   ------------------------------------------- */
.cursor-pointer {
  cursor: pointer;
}

.cursor-default {
  cursor: default;
}

.cursor-grab {
  cursor: grab;
}

.cursor-grabbing {
  cursor: grabbing;
}

.cursor-not-allowed {
  cursor: not-allowed;
}

/* -------------------------------------------
   SELECTION UTILITIES
   User selection control
   ------------------------------------------- */
.select-none {
  user-select: none;
}

.select-text {
  user-select: text;
}

.select-all {
  user-select: all;
}

/* -------------------------------------------
   SCROLL UTILITIES
   Scroll behavior
   ------------------------------------------- */
.scroll-smooth {
  scroll-behavior: smooth;
}

.scroll-snap-x {
  scroll-snap-type: x mandatory;
}

.scroll-snap-y {
  scroll-snap-type: y mandatory;
}

.scroll-snap-start {
  scroll-snap-align: start;
}

.scroll-snap-center {
  scroll-snap-align: center;
}

/* -------------------------------------------
   POINTER EVENTS
   ------------------------------------------- */
.pointer-events-none {
  pointer-events: none;
}

.pointer-events-auto {
  pointer-events: auto;
}

/* -------------------------------------------
   AVATAR SYSTEM
   Circular profile images with fallback
   ------------------------------------------- */
.avatar {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  overflow: hidden;
  background: var(--bs-gray-200);
  flex-shrink: 0;
}

.avatar-sm {
  width: var(--bs-avatar-sm);
  height: var(--bs-avatar-sm);
  font-size: var(--bs-font-size-xs);
}

.avatar-md {
  width: var(--bs-avatar-md);
  height: var(--bs-avatar-md);
  font-size: var(--bs-font-size-sm);
}

.avatar-lg {
  width: var(--bs-avatar-lg);
  height: var(--bs-avatar-lg);
  font-size: 1rem;
}

.avatar-xl {
  width: var(--bs-avatar-xl);
  height: var(--bs-avatar-xl);
  font-size: var(--bs-font-size-lg);
}

.avatar-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.avatar-initials {
  font-weight: 600;
  color: var(--bs-gray-600);
  text-transform: uppercase;
  line-height: 1;
}

/* Avatar colors */
.avatar-primary {
  background: rgba(var(--bs-primary-rgb), 0.15);
}
.avatar-primary .avatar-initials {
  color: var(--bs-primary);
}

.avatar-success {
  background: rgba(var(--bs-success-rgb), 0.15);
}
.avatar-success .avatar-initials {
  color: var(--bs-success);
}

.avatar-warning {
  background: rgba(var(--bs-warning-rgb), 0.15);
}
.avatar-warning .avatar-initials {
  color: var(--bs-warning);
}

.avatar-info {
  background: rgba(var(--bs-info-rgb), 0.15);
}
.avatar-info .avatar-initials {
  color: var(--bs-info);
}

/* -------------------------------------------
   RATING STARS
   Star-based rating display
   ------------------------------------------- */
.rating-stars {
  display: inline-flex;
  gap: 0.125rem;
  color: var(--bs-rating-color);
}

.rating-stars .bi {
  font-size: 1rem;
}

.rating-stars-sm .bi {
  font-size: var(--bs-font-size-sm);
}

.rating-stars-lg .bi {
  font-size: 1.25rem;
}

.rating-stars .bi-star {
  color: var(--bs-rating-empty-color);
}

/* -------------------------------------------
   META ROW
   Icon + text metadata pairs
   ------------------------------------------- */
.meta-row {
  display: flex;
  gap: var(--bs-space-3);
  flex-wrap: wrap;
  font-size: var(--bs-font-size-sm);
  color: var(--bs-gray-500);
}

.meta-item {
  display: inline-flex;
  align-items: center;
  gap: var(--bs-space-1);
}

.meta-item i {
  color: var(--bs-primary);
  opacity: 0.7;
  font-size: 0.875em;
}

/* Dark variant */
.meta-row-dark {
  color: var(--bs-gray-400);
}

.meta-row-dark .meta-item i {
  color: var(--bs-blue-light);
}

/* -------------------------------------------
   ASPECT RATIO CONTAINERS
   Fixed aspect ratio wrappers
   ------------------------------------------- */
.aspect-container {
  position: relative;
  overflow: hidden;
}

.aspect-container > img,
.aspect-container > video,
.aspect-container > iframe {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
}
